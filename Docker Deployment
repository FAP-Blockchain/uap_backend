
# ğŸš€ **FAP Blockchain Backend - HÆ°á»›ng Dáº«n Triá»ƒn Khai Nhanh**

## ğŸ§© 1. YÃªu cáº§u há»‡ thá»‘ng

---

## ğŸ³ 2. CÃ i Ä‘áº·t Docker

### Windows / macOS

Táº£i táº¡i [https://www.docker.com/products/docker-desktop](https://www.docker.com/products/docker-desktop) â†’ CÃ i Ä‘áº·t â†’ Khá»Ÿi Ä‘á»™ng â†’ Kiá»ƒm tra:

```bash
docker --version
docker-compose --version
```

### Linux (Ubuntu)

```bash
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" \
  -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
```

---

## ğŸ“¦ 3. Táº£i source

```bash
git clone https://github.com/FAP-Blockchain/fap_backend.git
cd fap_backend
git checkout docker
```

Hoáº·c táº£i ZIP tá»« GitHub branch `docker`.

---

## ğŸ—„ï¸ 4. Cáº¥u hÃ¬nh SQL Server (cháº¡y trÃªn mÃ¡y host)

### âœ… Kiá»ƒm tra & khá»Ÿi Ä‘á»™ng

```powershell
Get-Service MSSQLSERVER
Start-Service MSSQLSERVER
```

### âœ… Báº­t Mixed Mode + user `sa`

Trong SSMS:
**Properties â†’ Security â†’ SQL Server and Windows Authentication mode** â†’ OK

```powershell
sqlcmd -S localhost -E -Q "ALTER LOGIN [sa] ENABLE; ALTER LOGIN [sa] WITH PASSWORD='12345';"
Restart-Service MSSQLSERVER
```

### âœ… Báº­t TCP/IP (port 1433)

Trong **SQL Server Configuration Manager â†’ Protocols for MSSQLSERVER â†’ Enable TCP/IP â†’ IPAll â†’ TCP Port = 1433**

### âœ… Má»Ÿ firewall

```powershell
New-NetFirewallRule -DisplayName "SQL Server 1433" -Direction Inbound -Protocol TCP -LocalPort 1433 -Action Allow
```

### âœ… Test káº¿t ná»‘i

```powershell
sqlcmd -S localhost,1433 -U sa -P 12345 -Q "SELECT @@VERSION"
```

---

## âš™ï¸ 5. Cháº¡y backend báº±ng Docker

### Build image

```bash
docker build -t fap-backend .
```

### Run container

```bash
docker-compose up -d
```

### Kiá»ƒm tra

```bash
docker ps
```

Swagger UI: [http://localhost:8080/swagger](http://localhost:8080/swagger)

---

## ğŸ§ª 6. Test API

```bash
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@fap.edu.vn","password":"123456"}'
```

---

## ğŸ‘¥ 7. TÃ i khoáº£n máº«u

| Role    | Email                                           | Password |
| ------- | ----------------------------------------------- | -------- |
| Admin   | [admin@fap.edu.vn](mailto:admin@fap.edu.vn)     | 123456   |
| Teacher | [teacher@fap.edu.vn](mailto:teacher@fap.edu.vn) | 123456   |
| Student | [student@fap.edu.vn](mailto:student@fap.edu.vn) | 123456   |

---

## ğŸ§° 8. Lá»‡nh nhanh

```bash
docker-compose down          # Dá»«ng
docker-compose down -v       # Dá»«ng + xÃ³a DB
docker rmi fap-backend       # XÃ³a image
docker logs fap-backend -f   # Xem log
```

---

## â— 9. Lá»—i thÆ°á»ng gáº·p

* **Login failed â€˜saâ€™** â†’ Enable Mixed Mode + Ä‘áº·t láº¡i password
* **Cannot connect SQL** â†’ Báº­t TCP/IP 1433 + Firewall
* **Port 8080 in use** â†’ Äá»•i trong `docker-compose.yml` â†’ `8081:80`

---

## ğŸŒ 10. Frontend base URL

```
http://localhost:8080
```

Swagger: [http://localhost:8080/swagger](http://localhost:8080/swagger)

---

âœ… **Checklist**

* [ ] Docker Desktop cháº¡y
* [ ] SQL Server (Mixed Mode + port 1433)
* [ ] User `sa` pass `12345`
* [ ] Build image â†’ Run container â†’ Truy cáº­p Swagger

---

**MIT License Â© 2025 FAP Blockchain Team**
ğŸ’¡ *Triá»ƒn khai thÃ nh cÃ´ng trong vÃ i phÃºt!*
